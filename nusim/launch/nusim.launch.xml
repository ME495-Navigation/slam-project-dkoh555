<launch>
  <!-- rviz config file loaded -->
  <arg name="rviz_config" default="nusim_standalone"/>

  <!-- run nusim node -->
  <node pkg="nusim" exec="nusim">
    <param from="$(find-pkg-share nusim)/config/basic_world.yaml"/>
    <param from="$(find-pkg-share nuturtle_description)/config/diff_params.yaml"/>
  </node>

  <!-- launch the red turtlebot -->
  <include file="$(find-pkg-share nuturtle_description)/launch/load_one.launch.py">
    <arg name="color" value="red"/>
    <arg name="use_rviz" value="false"/>
  </include>
  
  <!-- run rviz2 w/ config file -->
  <node pkg="rviz2" exec="rviz2" args="-d $(find-pkg-share nusim)/config/$(var rviz_config).rviz"/>

</launch>